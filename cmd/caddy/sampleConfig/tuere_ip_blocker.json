{
          "logging": {
    "sink": {
      "writer": { 
        "output":"file",
        "filename":"/var/log/caddy_sink.log",
        "roll":true,
        "roll_size_mb":5,
        "roll_gzip":true,
        "roll_keep":10,
        "roll_keep_days":10   
      }
    },
    "logs": {
      "default": {
        "writer": {
          "output":"file",
          "filename":"/var/log/caddy_default.log",
          "roll":true,
          "roll_size_mb":5,
          "roll_gzip":true,
          "roll_keep":10,
          "roll_keep_days":10
        },
        "encoder": {
          "format":"json"
        },
        "level": "INFO"
      }
    }
  },
       
       "apps": {
               "http": {
                       "servers": {
                               "example": {
                                       "listen": ["0.0.0.0:443"],
                                       "routes": [
                                              {
                                                        "match":[{"remote_ip":{
                                                                "ranges":["103.51.233.182/16"]
                                                        }}],
                                                        "handle":[{
                                                                "handler":"error",
                                                                "error":"Request from invalid IP Range",
                                                                "status_code":"403"
                                                        }]
                                                }, 
                                               
                                               {
                                                       "match":[{"host":["b.hostonefivenine.com"]}],
                                                       "handle": [
                                                               {
                                                                       "handler": "reverse_proxy",
                                                                       "upstreams": [
                                                                               {
                                                                                       "dial": "sih.gov.in:443"
                                                                               }],
                                                                        "transport": { 
                                                                                "protocol":"http", 
                                                                                "tls": {
                                                                               "root_ca_pem_files":["/home/tuere/wildcard_certs/myCA.pem"],
                                                                               "client_certificate_file":"/home/tuere/wildcard_certs/b.hostonefivenine.com.crt",
                                                                               "client_certificate_key_file":"/home/tuere/wildcard_certs/b.hostonefivenine.com.key",
                                                                               "insecure_skip_verify": true
                                                                        }}
                                                               }
                                                       ]
                                               }
                                       ],
                                       "automatic_https":{
                                               "disable": false,
                                               "disable_redirects":false
                                       }
                               }
                       }
               },
               "tls": {
                        "certificates":{
                                "load_files":[{
                                        "certificate":"/home/tuere/wildcard_certs/b.hostonefivenine.com.crt",
                                        "key":"/home/tuere/wildcard_certs/b.hostonefivenine.com.key",
                                        "format":"pem",
                                        "tags":["b"]
                                }]
                        },
                       "automation": {},
                       "session_tickets": {}
               }
       }
}


